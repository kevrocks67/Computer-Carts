#: import ListAdaptor kivy.adapters.listadapter.ListAdapter
#: import ListItemButton kivy.uix.listview.ListItemButton
#: import ScreenManager kivy.uix.screenmanager

<MainScreen>:
    ActionBar:
        pos_hint: {'top':1}
        ActionView:
            use_separator: True
            ActionPrevious:
                title: 'Computer Cart Management Software Alpha'
                with_previous: False
                on_release: root.manager.current = 'Screen0'
            ActionOverflow:
            ActionButton:
                text: 'Add'
                on_release: root.manager.current = 'Screen1'
            ActionButton:
                text: 'Remove'
            ActionButton:
                text: 'Edit'
                on_release: root.manager.current = 'Screen2'
            ActionGroup:
                text: 'Unlock/Lock'
                ActionButton:
                    text: 'Unlock'
                ActionButton:
                    text: 'Lock'
            ActionGroup:
                text: 'Settings'
                ActionButton:
                    text: 'Settings'
                    on_release: root.manager.current = 'Screen3'

<cartDB>:
    cart_list_text_input: cart_list
    cart_num_text_input: cart_num
    cart_stat_text_input: cart_stat
    cart_type_text_input: cart_type
    cart_CRM_text_input: cart_CRM
    cart_CPd_text_input: cart_CPd
    cart_FRM_text_input: cart_FRM
    cart_FPd_text_input: cart_FPd

<AddEntryScreen>:
    ActionBar:
        pos_hint: {'top':1}
        ActionView:
            use_separator: True
            ActionPrevious:
                title: 'New Entry'
                with_previous: False
                on_release: root.manager.current = 'Screen0'
            ActionOverflow:
            ActionGroup:
                ActionButton:
                    text: 'Save Entry'

    BoxLayout:

        height: "40dp"
        orientation: 'vertical'

        Label:
            text: "Cart Number:"
        Label:
            text: "Status"
        TextInput:
            id: cart_stat
            multiline: False
            font_size: 25
        Label:
            text: "Current Room"
        TextInput:
            id: cart_CRM
            multiline: False
            font_size: 25
        Label:
            text: "Time Req"
        TextInput:
            id: cart_CPd
            multiline: False
            font_size: 25
        Label:
            text: "Future Room Need"
        TextInput:
            id: cart_FRM
            multiline: False
            font_size: 25
        Label:
            text: "Future Time Need"
        TextInput:
            id: cart_FPd
            multiline: False
            font_size: 25
        Label:
            text: "Additional Comments"
        TextInput:
            id: addtl_comments

<EditEntryScreen>:
    ActionBar:
        pos_hint: {'top':1}
        ActionView:
            use_separator: True
            ActionPrevious:
                title: 'Edit Entry'
                with_previous: False
                on_release: root.manager.current = 'Screen0'
            ActionOverflow:
            ActionGroup:
                ActionButton:
                    text: 'Save Entry'

    BoxLayout:
        height: "40dp"
        orientation: 'vertical'

        Label:
            text: "Cart Number:"
        Label:
            text: "Status"
        TextInput:
            id: cart_stat
            multiline: False
            font_size: 25
        Label:
            text: "Current Room"
        TextInput:
            id: cart_CRM
            multiline: False
            font_size: 25
            readonly: True
        Label:
            text: "Time Req"
        TextInput:
            id: cart_CPd
            multiline: False
            font_size: 25
            readonly: True
        Label:
            text: "Future Room Need"
        TextInput:
            id: cart_FRM
            multiline: False
            font_size: 25
        Label:
            text: "Future Time Need"
        TextInput:
            id: cart_FPd
            multiline: False
            font_size: 25
        Label:
            text: "Additional Comments"
        TextInput:
            id: addtl_comments

<SettingsScreen>:
    ActionBar:
        pos_hint: {'top':1}
        ActionView:
            use_separator: True
            ActionPrevious:
                title: 'Settings'
                with_previous: False
                on_release: root.manager.current = 'Screen0'
            ActionOverflow:
            ActionGroup:
                ActionButton:
                    text: 'Save Settings'
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'SQL Address'
        TextInput:
            id: SQL Address
            font_size: 25
            multiline: False
            input_filter: lambda text, from_undo: text[:25 - len(self.text)]
        Label:
            text: 'SQL Password'
        TextInput:
            id: SQL Password
            font_size: 25
            password: True
            multiline: False
            input_filter: lambda text, from_undo: text[:31 - len(self.text)]
        Label:
            text: 'SQL Port'
        TextInput:
            id: SQL Port
            font_size: 25
            multiline: False
            input_filter: lambda text, from_undo: text[:5 - len(self.text)]
        Label:
            text: 'Notification'
            bold: True
        Label:
            text: 'Add Email'
        TextInput:
            id: AddEmail
            font_size: 25
            multiline: False
            input_filter: lambda text, from_undo: text[:48 - len(self.text)]
        Label:
            text: 'Current Email'
        TextInput:
            id: CurrentEmail
            font_size: 25
            multiline: False
            input_filter: lambda text, from_undo: text[:48 - len(self.text)]
        Label:
            text: 'Notification Time'
        TextInput:
            id: NotificationTime
            font_size: 25
            multiline: False
            input_filter: lambda text, from_undo: text[:31 - len(self.text)]

        Button:
            font_size: 15
            text: 'About'
            on_release: app.show_popupSettings()

<SettingsPopup>:
    size_hint: 1, 1
    auto_dismiss: False
    title: 'About'

    Button:
        font_size: 22
        line_height: 2
        text: 'This app is designed by Kevin Diaz in order to manage\nthe need for computer carts within the Columbia Secondary School.\nAll source code is available at\nhttps://github.com/kevrocks67/Computer-Carts\nClick me to dismiss'
        on_press: root.dismiss()

<Manager>:
    id: screen_manager

    screen_zero: screen_zero
    screen_one: screen_one
    screen_two: screen_two
    screen_three: screen_three

    MainScreen:
        id: screen_zero
        name: 'Screen0'
        manager: screen_manager

    AddEntryScreen:
        id: screen_one
        name: 'Screen1'
        manager: screen_manager

    EditEntryScreen:
        id: screen_two
        name: 'Screen2'
        manager: screen_manager

    SettingsScreen:
        id: screen_three
        name: 'Screen3'
        manager: screen_manager

<CustomDropDown>:
    Button:
        text: 'My first Item'
        size_hint_y: None
        height: 44
        on_release: root.select('item1')
    Label:
        text: 'Unselectable item'
        size_hint_y: None
        height: 44
    Button:
        text: 'My second Item'
        size_hint_y: None
        height: 44
        on_release: root.select('item2')


